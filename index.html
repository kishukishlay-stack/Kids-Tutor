<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buddy Tutor Application</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        .error { color: red; }
    </style>
</head>
<body>
    <h1>Welcome to Buddy Tutor Application</h1>
    <button id="startRecognition">Start Speech Recognition</button>
    <div id="result"></div>
    <div class="error" id="error"></div>

    <script>
        // Improved Speech Recognition
        const resultDiv = document.getElementById('result');
        const errorDiv = document.getElementById('error');

        const speechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
        if (!speechRecognition) {
            errorDiv.textContent = 'Speech Recognition is not supported in this browser.';
        }
        const recognition = new speechRecognition();

        recognition.onstart = () => {
            resultDiv.textContent = 'Listening...';
        };

        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript;
            resultDiv.textContent = `You said: ${transcript}`;
        };

        recognition.onerror = (event) => {
            errorDiv.textContent = `Error occurred in recognition: ${event.error}`;
        };

        document.getElementById('startRecognition').onclick = () => {
            recognition.start();
        };

        // API improvements (example)
        async function fetchData() {
            try {
                const response = await fetch('https://api.example.com/data');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const data = await response.json();
                console.log(data);
            } catch (error) {
                errorDiv.textContent = `API fetch error: ${error.message}`;
            }
        }

        // Call fetchData on load
        window.onload = fetchData;
    </script>
</body>
</html>